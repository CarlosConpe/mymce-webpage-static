document.addEventListener("DOMContentLoaded",function(){const n=document.createElement("style");n.innerHTML="\n        #search-modal {\n            display: none;\n            position: fixed;\n            z-index: 9999;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            overflow: auto;\n            background-color: rgba(0,0,0,0.8);\n            backdrop-filter: blur(5px);\n        }\n        #search-modal-content {\n            background-color: #fefefe;\n            margin: 10% auto;\n            padding: 20px;\n            border: 1px solid #888;\n            width: 80%;\n            max-width: 600px;\n            border-radius: 8px;\n            box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        }\n        #search-input {\n            width: 100%;\n            padding: 15px;\n            font-size: 18px;\n            border: 2px solid #ddd;\n            border-radius: 4px;\n            margin-bottom: 20px;\n        }\n        #search-results {\n            max-height: 400px;\n            overflow-y: auto;\n        }\n        .search-result-item {\n            padding: 10px;\n            border-bottom: 1px solid #eee;\n        }\n        .search-result-item a {\n            text-decoration: none;\n            color: #333;\n            font-weight: bold;\n            font-size: 18px;\n        }\n        .search-result-item p {\n            color: #666;\n            font-size: 14px;\n            margin-top: 5px;\n        }\n        .close-search {\n            color: #aaa;\n            float: right;\n            font-size: 28px;\n            font-weight: bold;\n            cursor: pointer;\n        }\n        .close-search:hover {\n            color: black;\n        }\n    ",document.head.appendChild(n);document.body.insertAdjacentHTML("beforeend",'\n        <div id="search-modal">\n            <div id="search-modal-content">\n                <span class="close-search">&times;</span>\n                <input type="text" id="search-input" placeholder="Buscar en el sitio...">\n                <div id="search-results"></div>\n            </div>\n        </div>\n    ');const e=document.getElementById("search-modal"),t=document.getElementById("search-input"),o=document.getElementById("search-results"),i=document.querySelector(".close-search");document.querySelectorAll('#searchx a, a[href*="/portafolio"] .fa-search').forEach(n=>{n.addEventListener("click",function(n){n.preventDefault(),e.style.display="block",t.focus(),async function(){if(r)return;try{const n=await fetch("/assets/js/search-index.json");d=await n.json(),r=lunr(function(){this.ref("id"),this.field("title"),this.field("body"),this.field("description"),d.forEach(function(n){this.add(n)},this)}),console.log("Search index loaded")}catch(n){console.error("Failed to load search index",n)}}()})}),i.onclick=function(){e.style.display="none"},window.onclick=function(n){n.target==e&&(e.style.display="none")};let r=null,d=null;t.addEventListener("input",function(){if(!r)return;const n=this.value;if(n.length<2)return void(o.innerHTML="");!function(n){if(o.innerHTML="",0===n.length)return void(o.innerHTML="<p>No se encontraron resultados.</p>");n.forEach(n=>{const e=d.find(e=>e.id===n.ref);if(e){const n=document.createElement("div");n.className="search-result-item",n.innerHTML=`\n                    <a href="${e.id}">${e.title}</a>\n                    <p>${e.description||e.body.substring(0,100)}...</p>\n                `,o.appendChild(n)}})}(r.search(n))})});